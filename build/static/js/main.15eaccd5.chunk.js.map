{"version":3,"sources":["image/CoopLogoSmall.svg","services/api.js","styles/global.js","styles.js","components/Upload/styles.js","components/Upload/index.js","components/FileList/styles.js","components/FileList/index.js","components/Header/Header.tsx","App.js","index.js"],"names":["module","exports","__webpack_require__","p","api","axios","create","baseURL","createGlobalStyle","_templateObject","Object","taggedTemplateLiteral","Container","styled","div","styles_templateObject","Content","_templateObject2","_templateObject3","dragActive","css","Upload_styles_templateObject","dragReject","styles_templateObject2","DropContainer","attrs","className","styles_templateObject3","props","isDragActive","isDragReject","messageColors","default","error","success","UploadMessage","_templateObject4","type","Upload","renderDragMessage","react_default","a","createElement","_this2","this","onUpload","es","accept","onDropAccepted","_ref","getRootProps","getInputProps","assign","Component","ul","FileList_styles_templateObject","Odometer","FileList_styles_templateObject2","FileInfo","FileList_styles_templateObject3","Preview","styles_templateObject4","src","FileList","files","onDelete","odometer","styles_Container","map","uploadedFile","key","id","dist_default","preview","uploaded","md_index_esm","size","color","name","readableSize","url","href","target","rel","style","marginRight","index_esm","styles","root","width","path","stroke","strokeWidth","percentage","progress","onClick","Header","user","logo","require","txtAnalysing","App","state","uploadedFiles","textOdometer","textVIN","textYear","textDateExp","textState","textModel","textType","currentImgId","handleUpload","_this","setState","handleDelete","file","uniqueId","filesize","URL","createObjectURL","concat","forEach","processUpload","updateFile","data","objectSpread","callApiRekognition","fileName","Promise","resolve","dataVIN","dataDateExp","post","then","responseApi","getVIN","length","getDateExp","catch","console","log","callApiVinNHTSA","vin","dataYear","dataState","dataModel","dataType","get","Results","i","push","FormData","append","onUploadProgress","e","parseInt","Math","round","loaded","total","response","_id","_callee","removeTxtOdometer","regenerator_default","wrap","_context","prev","next","delete","filter","stop","revokeObjectURL","Fragment","Header_Header","Upload_Upload","components_FileList","global","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.15eaccd5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/CoopLogoSmall.5bc1a5df.svg\";","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://52.45.53.91\"\n  // baseURL: \"http://localhost:3000\"\n});\n\nexport default api;\n","import { createGlobalStyle } from \"styled-components\";\n\nimport \"react-circular-progressbar/dist/styles.css\";\n\nexport default createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 14px;\n    background: #fff;\n    text-rendering: optimizeLegibility;\n    -webkit-font-smoothing: antialiased;\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  h4 {\n    margin:14px 0 0 0;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Content = styled.div`\n  width: 100%;\n  max-width: 400px;\n  margin: 30px;\n  background: #fff;\n  border-radius: 4px;\n  padding: 20px;\n`;\n\nexport const Header = styled.div`\n  margin:0 auto;\n  display:block;\n`;\n","import styled, { css } from \"styled-components\";\n\nconst dragActive = css`\n  border-color: #78e5d5;\n`;\n\nconst dragReject = css`\n  border-color: #e57878;\n`;\n\nexport const DropContainer = styled.div.attrs({\n  className: \"dropzone\"\n})`\n  border: 1px dashed #ddd;\n  border-radius: 4px;\n  cursor: pointer;\n\n  transition: height 1.5s ease;\n\n  ${props => props.isDragActive && dragActive};\n  ${props => props.isDragReject && dragReject};\n`;\n\nconst messageColors = {\n  default: \"#999\",\n  error: \"#e57878\",\n  success: \"#78e5d5\"\n};\n\nexport const UploadMessage = styled.p`\n  display: flex;\n  color: ${props => messageColors[props.type || \"default\"]};\n  justify-content: center;\n  align-items: center;\n  padding: 15px 0;\n  height:100px;\n`;\n","import React, { Component } from \"react\";\n\nimport Dropzone from \"react-dropzone\";\n\nimport { DropContainer, UploadMessage } from \"./styles\";\n\nexport default class Upload extends Component {\n  renderDragMessage = (isDragActive, isDragReject) => {\n    if (!isDragActive) {\n      return <UploadMessage>Drag and Drop Image Here...</UploadMessage>;\n    }\n\n    if (isDragReject) {\n      return <UploadMessage type=\"error\">File not supported</UploadMessage>;\n    }\n\n    return <UploadMessage type=\"success\">Drag and Drop Image Here</UploadMessage>;\n  };\n\n  render() {\n    const { onUpload } = this.props;\n\n    return (\n      <Dropzone accept=\"image/*\" onDropAccepted={onUpload}>\n        {({ getRootProps, getInputProps, isDragActive, isDragReject }) => (\n          <DropContainer\n            {...getRootProps()}\n            isDragActive={isDragActive}\n            isDragReject={isDragReject}\n          >\n            <input {...getInputProps()} />\n            {this.renderDragMessage(isDragActive, isDragReject)}\n          </DropContainer>\n        )}\n      </Dropzone>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Container = styled.ul`\n  margin-top: 20px;\n\n  li.imgUploaded {\n    display:block;\n    text-align:center;\n    div {\n      div {\n        width: 360px;\n        height: 168px;\n        background-position: 100% 100%;\n        margin-right:0px;\n      }\n    }\n  }\n\n  .btDelete {\n    background-color: transparent;\n    border: none;\n  }\n\n  .zoomOverFlow {\n    overflow: hidden;\n  }\n  .zoomHover {\n    transition: all 0.3s ease 0s;\n    width: 100%;\n  }\n  .zoomHover:hover {\n    transform:scale(4.00);\n  }\n\n  .svgDelete {\n    height: 24px!important;\n    width: 26px!important;\n  }\n\n  div.delete {\n    height:47px;\n    overflow:visible;\n  }\n\n  div.svg svg {\n    margin-right:8px;\n  }\n\n  li {\n    display:block;\n    div.link {\n      height:200px;\n      div {\n        width: auto;\n        height: auto;\n        background-position: 100% 100%;\n        margin-right: 0px;\n        /* display: inline-block; */\n        padding: 10px;\n      }\n      div.delete {\n        \n      }\n    }\n  }\n\n  li {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #444;\n\n    & + li {\n      margin-top: 15px;\n    }\n  }\n`;\n\nexport const Odometer = styled.div`\n  margin-top: 20px;\n  min-height:47px;\n  display: block;\n  text-align: center;\n  border: 1px dashed #f85731;\n  border-radius: 4px;\n  transition: height 0.2s ease;\n  padding: 5px;\n\n  div {\n    display: flex;\n    flex-direction: column;\n\n    span {\n      font-size: 12px;\n      color: #999;\n      margin-top: 5px;\n    }\n  }\n`;\n\nexport const FileInfo = styled.div`\n  display: flex;\n  align-items: center;\n\n  div {\n    display: flex;\n    flex-direction: column;\n\n    span {\n      font-size: 12px;\n      color: #999;\n      margin-top: 5px;\n\n      button {\n        border: 0;\n        background: transparent;\n        color: #e57878;\n        margin-left: 5px;\n        cursor: pointer;\n      }\n    }\n  }\n`;\n\nexport const Preview = styled.div`\n  width: 36px;\n  height: 36px;\n  border-radius: 5px;\n  background-image: url(${props => props.src});\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: 50% 50%;\n  margin-right: 10px;\n`;\n","import React from \"react\";\nimport CircularProgressbar from \"react-circular-progressbar\";\nimport { MdCheckCircle, MdDelete, MdError, MdLink } from \"react-icons/md\";\nimport { Container, FileInfo, Preview } from \"./styles\";\nimport PrismaZoom from 'react-prismazoom'\n\nconst FileList = ({ files, onDelete, odometer }) => (\n  <Container>\n    {files.map(uploadedFile => (\n      <li key={uploadedFile.id} className=\"imgUploaded\">\n        <FileInfo className=\"zoomOverFlow\">\n          <PrismaZoom>\n            <Preview src={uploadedFile.preview} className=\"zoomHover_\" />\n          </PrismaZoom>\n        </FileInfo>\n        \n\n        <div className=\"link\">\n          <div className=\"svg\">\n            {uploadedFile.uploaded && <MdCheckCircle size={24} color=\"#78e5d5\" />}\n            {uploadedFile.error && <MdError size={24} color=\"#e57878\" />}\n          </div>\n\n          <div>\n            <strong>{uploadedFile.name}</strong>\n            <span> | {uploadedFile.readableSize}{\" \"}</span>\n          </div>\n          <div>\n          Image Link:<br />\n          {uploadedFile.url && (\n            <a\n              href={uploadedFile.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <MdLink style={{ marginRight: 8 }} size={24} color=\"#222\" />\n            </a>\n          )}\n          </div>\n          \n          {!uploadedFile.uploaded &&\n          !uploadedFile.error && (\n            <CircularProgressbar\n            \n              styles={{\n                root: { width: 24 },\n                path: { stroke: \"#7159c1\" }\n              }}\n              strokeWidth={10}\n              percentage={uploadedFile.progress}\n            />\n          )}\n          \n          \n          <div className=\"delete\">\n          {!!uploadedFile.url && (\n            <button className=\"btDelete\" onClick={() => onDelete(uploadedFile.id)}>\n              <MdDelete className=\"svgDelete\" style={{ marginRight: 8 }} size={24} color=\"#222\" />\n            </button>\n          )}\n          </div>\n\n          \n        </div>\n      </li>\n    ))}\n  </Container>\n);\n\nexport default FileList;\n","import React from 'react'\n\nimport { Button } from '../Button/Button'\nimport './header.css'\nimport logo from '../../image/CoopLogoSmall.svg'; // with import\n\nexport interface HeaderProps {\n  user?: {}\n}\n\nexport const Header: React.FC<HeaderProps> = ({\n  user\n}) => (\n  <header>\n    <div className='wrapper'>\n      <div>\n          <img src={logo} />\n          <h1>COOP</h1>\n      </div>\n    </div>\n  </header>\n)","import React, { Component } from \"react\";\n\nimport { uniqueId } from \"lodash\";\nimport filesize from \"filesize\";\n\nimport api from \"./services/api\";\n\nimport GlobalStyle from \"./styles/global\";\nimport { Container, Content } from \"./styles\";\n\nimport Upload from \"./components/Upload\";\nimport FileList from \"./components/FileList\";\nimport { Odometer } from \"./components/FileList/styles\";\nimport { Header } from './components/Header/Header'\n\nconst axios = require('axios');\nconst txtAnalysing = 'Analysing your document...';\nclass App extends Component {\n  state = {\n    uploadedFiles: [],\n    textOdometer: [],\n    textVIN: [],\n    textYear: [],\n    textDateExp: [],\n    textState: [],\n    textModel: [],\n    textType: [],\n    key: [],\n    currentImgId: [0]\n  };\n\n  handleUpload = files => {\n    \n    this.setState({ textOdometer: txtAnalysing });\n    this.setState({ textVIN: txtAnalysing });\n    this.setState({ textYear: txtAnalysing });\n    this.setState({ textDateExp: txtAnalysing });\n    this.setState({ textState: txtAnalysing });\n    this.setState({ textModel: txtAnalysing });\n    this.setState({ textType: txtAnalysing });\n\n    if ( this.state.currentImgId !== [0] ) {\n      this.handleDelete(this.state.currentImgId)\n    }\n    \n    const uploadedFiles = files.map(file => ({\n      file,\n      id: uniqueId(),\n      name: file.name,\n      readableSize: filesize(file.size),\n      preview: URL.createObjectURL(file),\n      progress: 0,\n      uploaded: false,\n      error: false,\n      url: null,\n      odometer: null\n    }));\n\n    this.setState({\n      uploadedFiles: this.state.uploadedFiles.concat(uploadedFiles)\n    });\n\n    uploadedFiles.forEach(this.processUpload);\n  };\n\n  updateFile = (id, data) => {\n    this.setState({\n      uploadedFiles: this.state.uploadedFiles.map(uploadedFile => {\n        return id === uploadedFile.id\n          ? { ...uploadedFile, ...data}\n          : uploadedFile;\n      })\n    });\n  };\n\n  callApiRekognition = fileName => {\n    return new Promise(resolve =>{\n        let dataVIN = [];\n        let dataDateExp = [];\n        \n        axios.post('https://3y8s7s4phc.execute-api.us-east-1.amazonaws.com/rekognition-coop-vehicle-document?key=' + fileName)\n          .then(function (responseApi) {\n            if (responseApi.data.getVIN.length > 0) {\n              dataVIN = responseApi.data.getVIN;\n            }\n            if (responseApi.data.getVIN.length > 0) {\n              dataDateExp = responseApi.data.getDateExp;\n            }\n          })\n          .catch(function (error) {\n            console.log(error);\n          })\n          .then(() => {\n            if (dataVIN.length === 0) {\n              this.setState({ textVIN:   \"Not Recognized\" });\n              this.setState({ textYear:  \"Not Recognized\" });\n              this.setState({ textState: \"Not Recognized\" });\n              this.setState({ textModel: \"Not Recognized\" });\n              this.setState({ textType:  \"Not Recognized\" });\n            } else {\n              this.setState({ textVIN: dataVIN });\n              this.callApiVinNHTSA(dataVIN);\n            }\n            if (dataDateExp.length === 0) {\n              this.setState({ textDateExp: \"Not Recognized\" });\n            } else {\n              this.setState({ textDateExp: dataDateExp });\n            }\n          });\n    })\n  }\n\n  callApiVinNHTSA = vin => {\n    return new Promise(resolve =>{\n        let dataYear  = [];\n        let dataState = [];\n        let dataModel = [];\n        let dataType  = [];\n\n        axios.get('https://vpic.nhtsa.dot.gov/api/vehicles/decodevinvaluesextended/'+vin+'?format=json')\n          .then(function (responseApi) {\n            if (responseApi.data != null && responseApi.data.Results.length > 0) {\n              for (let i = 0; i < responseApi.data.Results.length; i++) {\n                if ( responseApi.data.Results[i]['ModelYear'] !== \"\" ) {\n                  dataYear.push(responseApi.data.Results[i]['ModelYear'])\n                }\n                if ( responseApi.data.Results[i]['PlantState'] !== \"\" ) {\n                  dataState.push(responseApi.data.Results[i]['PlantState'])\n                }\n                if ( responseApi.data.Results[i]['Model'] ) {\n                  dataModel.push(responseApi.data.Results[i]['Model'])\n                }\n                if ( responseApi.data.Results[i]['VehicleType'] ) {\n                  dataType.push(responseApi.data.Results[i]['VehicleType'])\n                }\n              }\n            }\n          })\n          .catch(function (error) {\n            console.log(error);\n          })\n          .then(() => {\n            if (dataYear.length === 0) {\n              this.setState({ textYear: \"Not Recognized\" });\n            } else {\n              this.setState({ textYear: dataYear });\n            }\n            if (dataState.length === 0) {\n              this.setState({ textState: \"Not Recognized\" });\n            } else {\n              this.setState({ textState: dataState });\n            }\n            if (dataModel.length === 0) {\n              this.setState({ textModel: \"Not Recognized\" });\n            } else {\n              this.setState({ textModel: dataModel });\n            }\n            if (dataType.length === 0) {\n              this.setState({ textType: \"Not Recognized\" });\n            } else {\n              this.setState({ textType: dataType });\n            }\n          });\n    })\n  }\n\n  processUpload = uploadedFile => {\n    const data = new FormData();\n    data.append(\"file\", uploadedFile.file, uploadedFile.name);\n    let fileName = ''\n    \n    api.post(\"posts\", data, {\n        onUploadProgress: e => {\n          const progress = parseInt(Math.round((e.loaded * 100) / e.total));\n          this.updateFile(uploadedFile.id, {\n            progress\n          });\n        }\n      })\n      .then(response => {\n        fileName = response.data.key\n        this.callApiRekognition(fileName);\n        \n        // setting the last id to remove when upload a new one\n        this.setState({currentImgId: response.data._id});\n\n        this.updateFile(uploadedFile.id, {\n          uploaded: true,\n          id: response.data._id,\n          url: response.data.url\n        });\n      })\n  };\n\n  handleDelete = async id => {\n    await api.delete(`posts/${id}`);\n\n    let removeTxtOdometer = ''\n    if ( this.state.textOdometer !== txtAnalysing ) {\n      removeTxtOdometer = ''\n    } else {\n      removeTxtOdometer = txtAnalysing\n    }\n\n    this.setState({\n      uploadedFiles: this.state.uploadedFiles.filter(file => file.id !== id),\n      textOdometer: removeTxtOdometer\n    });\n  };\n\n  componentWillUnmount() {\n    this.state.uploadedFiles.forEach(file => URL.revokeObjectURL(file.preview));\n  }\n\n  render() {\n    const { uploadedFiles } = this.state;\n    return (\n        <><Header></Header>\n        <Container>\n        <Content>\n          <Upload onUpload={this.handleUpload} />\n          {!!uploadedFiles.length && (\n            <FileList files={uploadedFiles} onDelete={this.handleDelete} />\n          )}\n          <Odometer>\n            <h2>Document Recognized</h2>\n            <h4>VIN</h4>\n            {this.state.textVIN}\n            <br></br>\n            <h4>Vehicle Year</h4>\n            {this.state.textYear}\n            <br></br>\n            <h4>Date Expiration</h4>\n            {this.state.textDateExp}\n            <br></br>\n            <h4>State</h4>\n            {this.state.textState}\n            <br></br>\n            <h4>Model</h4>\n            {this.state.textModel}\n            <br></br>\n            <h4>Type</h4>\n            {this.state.textType}\n          </Odometer>\n        </Content>\n        <GlobalStyle />\n      </Container></>\n    );\n  }\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}